{"version":3,"sources":["services/storageService.js","services/httpService.js","services/accuWeatherService.js","store/actions/uiActions.js","components/IOSSwitch/IOSSwitch.jsx","components/Switches/Switches.jsx","components/AppHeader/AppHeader.jsx","assets/img/weather.png","services/eventBusService.js","store/actions/cityActions.js","components/SearchBox/SearchBox.jsx","services/utils.js","components/ForecastPreview/ForecastPreview.jsx","components/ForecastsList/ForecastsList.jsx","components/ToggleFavoriteButton/ToggleFavoriteButton.jsx","store/actions/favoriteCitiesActions.js","components/MessageBox/MessageBox.jsx","pages/HomePage/HomePage.jsx","components/FavoritePreview/FavoritePreview.jsx","components/FavoritesList/FavoritesList.jsx","pages/FavoritesPage/FavoritesPage.jsx","components/AppNotification/AppNotification.jsx","App.js","store/reducers/cityReducer.js","store/reducers/favoriteCitiesReducer.js","store/reducers/uiReducer.js","store/index.js","index.js"],"names":["STORAGE_KEY","weatherStorage","JSON","parse","localStorage","getItem","cachedGets","favoriteCities","setItem","stringify","initLocalStorage","storageService","key","val","stringifiedStorage","parsedStorage","stringifiedNewStorage","CACHED_GETS_STORAGE_KEY","httpService","get","endpoint","a","responseFromStorage","getResponseFromStorage","fetch","then","response","json","data","saveResponseInStorage","console","log","existingEndpointObj","find","currGetObj","value","lastCachedGetsStorageVal","fiteredCachedGets","filter","currCachedGet","NewCachedGetsStorageVal","ACCUWEATHER_BASE_URL","API_KEY","accuWeatherService","getAutoCompletes","text","getWeather","getForecasts","getByLocation","lat","lng","setCityStatus","cityStatus","dispatch","type","MyIOSSwitch","withStyles","theme","root","width","height","padding","margin","spacing","switchBase","transform","color","palette","common","white","backgroundColor","opacity","border","thumb","track","borderRadius","grey","transition","transitions","create","checked","focusVisible","classes","props","Switch","focusVisibleClassName","disableRipple","IOSSwitch","onChange","label","FormControlLabel","control","Switches","useSelector","uiReducer","isDark","isCelsDegrees","useDispatch","Card","className","setIsDark","setIsCelsDegrees","routesMap","AppHeader","history","useHistory","location","useLocation","React","useState","currRouteIdx","setCurrRouteIdx","useEffect","pathname","findIndex","currRoute","AppBar","style","background","position","onClick","push","src","alt","fontWeight","Tabs","aria-label","indicatorColor","Tab","eventBusService","on","eventName","listener","callListener","detail","window","addEventListener","removeEventListener","emit","dispatchEvent","CustomEvent","loadFullCity","cityDetails","Key","weather","forecasts","city","details","txt","LocalizedName","myBus","SearchBox","currText","setCurrText","autocompletes","setAutocompletes","loadAutoCompletes","handleSearch","results","cleanResults","reduce","acc","currResult","cleanAutoCompletes","currCity","Autocomplete","id","freeSolo","ev","options","map","renderInput","params","TextField","variant","target","daysInWeek","ForecastPreview","forecast","day","Date","getDay","uiTemp","Math","round","valInFer","Temperature","Minimum","Value","Maximum","getTemp","align","ForecastsList","cityReducer","DailyForecasts","currForecast","ToggleFavoriteButton","cityKey","favoriteCitiesReducer","relevantCity","isFavorite","Button","startIcon","favorite","getState","removeFavorite","MessageBox","Icon","HomePage","temp","getUiTemp","WeatherText","CircularProgress","FavoritePreview","LocalObservationDateTime","fontSize","FavoritesList","EmptyMessage","length","currFav","FavoritesPage","toast","configure","AppNotification","notify","notification","App","searchByLocation","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","createMuiTheme","ThemeProvider","Paper","component","path","INITIAL_STATE","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","state","action","favorites","currFavorite","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.949dd10f.chunk.js","sourcesContent":["const STORAGE_KEY = \"aviv-weather-app\";\n\ninitLocalStorage();\n\nexport const storageService = {\n  setItem,\n  getItem,\n};\n\nfunction setItem(key, val) {\n  let stringifiedStorage = localStorage.getItem(STORAGE_KEY);\n  if (!stringifiedStorage) {\n    return null;\n  }\n\n  const parsedStorage = JSON.parse(stringifiedStorage);\n\n  const stringifiedNewStorage = JSON.stringify({\n    ...parsedStorage,\n    [key]: val,\n  });\n\n  localStorage.setItem(STORAGE_KEY, stringifiedNewStorage);\n}\n\nfunction getItem(key) {\n  const stringifiedStorage = localStorage.getItem(STORAGE_KEY);\n  if (!stringifiedStorage) {\n    return null;\n  }\n\n  const parsedStorage = JSON.parse(stringifiedStorage);\n  return parsedStorage[key] ? parsedStorage[key] : null;\n}\n\nfunction initLocalStorage() {\n  let weatherStorage = JSON.parse(localStorage.getItem(STORAGE_KEY) || \"null\");\n  if (!weatherStorage) {\n    weatherStorage = {\n      favoriteCities: [],\n      cachedGets: [],\n    };\n  } else {\n    if (!weatherStorage.cachedGets) {\n      weatherStorage = {\n        ...weatherStorage,\n        cachedGets: [],\n      };\n    }\n    if (!weatherStorage.favoriteCities) {\n      weatherStorage = {\n        ...weatherStorage,\n        favoriteCities: [],\n      };\n    }\n  }\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(weatherStorage));\n}\n","import { storageService } from \"./storageService\";\nconst API_KEY = \"mO0XcixtapMUhtsQBCRoZssaOXX1YLLC\";\nconst CACHED_GETS_STORAGE_KEY = \"cachedGets\";\n\nexport const httpService = {\n  get,\n};\n\nasync function get(endpoint) {\n  try {\n    const responseFromStorage = getResponseFromStorage(endpoint);\n    if (responseFromStorage) return responseFromStorage;\n\n    const data = await fetch(endpoint).then((response) => response.json());\n    saveResponseInStorage(endpoint, data);\n    return data;\n  } catch (error) {\n    console.log(\"Error while trying to fetch data: \", error);\n    throw error;\n  }\n}\n\nfunction getResponseFromStorage(endpoint) {\n  const cachedGetsInStorage = storageService.getItem(CACHED_GETS_STORAGE_KEY);\n\n  const existingEndpointObj = cachedGetsInStorage.find(\n    (currGetObj) => currGetObj.endpoint === endpoint\n  );\n\n  return existingEndpointObj?.value ? existingEndpointObj.value : null;\n}\n\nfunction saveResponseInStorage(endpoint, value) {\n  let lastCachedGetsStorageVal = storageService.getItem(\n    CACHED_GETS_STORAGE_KEY\n  );\n  if (!lastCachedGetsStorageVal) {\n    lastCachedGetsStorageVal = [];\n  }\n\n  const fiteredCachedGets = lastCachedGetsStorageVal.filter(\n    (currCachedGet) => currCachedGet.endpoint !== endpoint\n  );\n\n  const NewCachedGetsStorageVal = [...fiteredCachedGets, { endpoint, value }];\n\n  storageService.setItem(CACHED_GETS_STORAGE_KEY, NewCachedGetsStorageVal);\n}\n","import { httpService } from \"./httpService\";\n\nconst ACCUWEATHER_BASE_URL = \"https://dataservice.accuweather.com\";\nconst API_KEY = \"mO0XcixtapMUhtsQBCRoZssaOXX1YLLC\";\n\nconst getAutoCompletes = async (text) => {\n  let endpoint = `${ACCUWEATHER_BASE_URL}/locations/v1/cities/autocomplete?apikey=${API_KEY}&q=${text}`;\n  try {\n    return await httpService.get(endpoint);\n  } catch (error) {\n    try {\n      return await httpService.get(endpoint);\n    } catch (error) {\n      throw error;\n    }\n  }\n};\n\nconst getWeather = async (key) => {\n  let endpoint = `${ACCUWEATHER_BASE_URL}/currentconditions/v1/${key}?apikey=${API_KEY}`;\n  try {\n    return await httpService.get(endpoint);\n  } catch (error) {\n    try {\n      return await httpService.get(endpoint);\n    } catch (error) {\n      throw error;\n    }\n  }\n};\n\nconst getForecasts = async (key) => {\n  let endpoint = `${ACCUWEATHER_BASE_URL}/forecasts/v1/daily/5day/${key}?apikey=${API_KEY}`;\n  try {\n    return await httpService.get(endpoint);\n  } catch (error) {\n    try {\n      return await httpService.get(endpoint);\n    } catch (error) {\n      throw error;\n    }\n  }\n};\n\nconst getByLocation = async (lat, lng) => {\n  let endpoint = `${ACCUWEATHER_BASE_URL}/locations/v1/cities/geoposition/search?apikey=${API_KEY}&q=${lat}%2C${lng}`;\n  try {\n    return await httpService.get(endpoint);\n  } catch (error) {\n    try {\n      console.log(\"entering the try-catch inside the big catch\");\n      return httpService.get(endpoint);\n    } catch (error) {\n      throw error;\n    }\n  }\n};\n\nexport const accuWeatherService = {\n  getAutoCompletes,\n  getWeather,\n  getForecasts,\n  getByLocation,\n};\n","import { Label } from \"@material-ui/icons\";\nimport { accuWeatherService } from \"../../services/accuWeatherService\";\n\nexport function setCityStatus(cityStatus) {\n  return (dispatch) => {\n    const action = {\n      type: \"SET_CITY_STATUS\",\n      cityStatus,\n    };\n    dispatch(action);\n  };\n}\n\nexport function setIsDark(isDark) {\n  return (dispatch) => {\n    const action = {\n      type: \"SET_IS_DARK\",\n      isDark,\n    };\n    dispatch(action);\n  };\n}\n\nexport function setIsCelsDegrees(isCelsDegrees) {\n  return (dispatch) => {\n    const action = {\n      type: \"SET_IS_CELS_DEGREES\",\n      isCelsDegrees,\n    };\n    dispatch(action);\n  };\n}\n","import \"./IOSSwitch.scss\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\n\nconst MyIOSSwitch = withStyles((theme) => ({\n  root: {\n    width: 42,\n    height: 26,\n    padding: 0,\n    margin: theme.spacing(1),\n  },\n  switchBase: {\n    padding: 1,\n    \"&$checked\": {\n      transform: \"translateX(16px)\",\n      color: theme.palette.common.white,\n      \"& + $track\": {\n        backgroundColor: [\"#52d869\"],\n        opacity: 1,\n        border: \"none\",\n      },\n    },\n    \"&$focusVisible $thumb\": {\n      color: \"#52d869\",\n      border: \"6px solid #fff\",\n    },\n  },\n  thumb: {\n    width: 24,\n    height: 24,\n  },\n  track: {\n    borderRadius: 26 / 2,\n    border: `1px solid ${theme.palette.grey[400]}`,\n    backgroundColor: \"purple\",\n    opacity: 1,\n    transition: theme.transitions.create([\"background-color\", \"border\"]),\n  },\n  checked: {},\n  focusVisible: {},\n}))(({ classes, ...props }) => {\n  return (\n    <Switch\n      focusVisibleClassName={classes.focusVisible}\n      disableRipple\n      classes={{\n        root: classes.root,\n        switchBase: classes.switchBase,\n        thumb: classes.thumb,\n        track: classes.track,\n        checked: classes.checked,\n      }}\n      {...props}\n    />\n  );\n});\n\nexport const IOSSwitch = ({ checked, onChange, label }) => {\n  return (\n    <FormControlLabel\n      control={<MyIOSSwitch checked={checked} onChange={onChange} />}\n      label={label}\n    />\n  );\n};\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { setIsCelsDegrees, setIsDark } from \"../../store/actions/uiActions\";\nimport { IOSSwitch } from \"../../components/IOSSwitch\";\nimport Card from \"@material-ui/core/Card\";\n\nimport \"./Switches.scss\";\n\nexport const Switches = (props) => {\n  const { isDark, isCelsDegrees } = useSelector(({ uiReducer }) => uiReducer);\n  const dispatch = useDispatch();\n\n  return (\n    <Card className=\"switches flex column\">\n      <IOSSwitch\n        checked={isDark}\n        onChange={() => dispatch(setIsDark(!isDark))}\n        label=\"Dark\"\n      />\n      <IOSSwitch\n        checked={isCelsDegrees}\n        onChange={() => dispatch(setIsCelsDegrees(!isCelsDegrees))}\n        label=\"C°\"\n      />\n    </Card>\n  );\n};\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport logoImage from \"../../assets/img/weather.png\";\nimport { Switches } from \"../Switches/Switches\";\nimport \"./AppHeader.scss\";\n\nconst routesMap = [\"/\", \"/favorites\"];\n\nexport const AppHeader = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const [currRouteIdx, setCurrRouteIdx] = React.useState(0);\n\n  useEffect(() => {\n    if (location.pathname === \"/favorites\") {\n      setCurrRouteIdx(\n        routesMap.findIndex((currRoute) => currRoute === \"/favorites\")\n      );\n    } else {\n      setCurrRouteIdx(routesMap.findIndex((currRoute) => currRoute === \"/\"));\n    }\n  }, [location.pathname]);\n\n  return (\n    <>\n      <AppBar\n        style={{\n          background: \"#7845a2\",\n          height: \"70px\",\n        }}\n        position=\"fixed\"\n        className=\"app-header\"\n      >\n        <div className=\"main-container flex align-center space-between\">\n          <button\n            className=\"logo-button center-childs\"\n            onClick={() => history.push(\"/\")}\n          >\n            <img src={logoImage} alt=\"\" />\n            <h1 style={{ padding: \"20px\", color: \"white\", fontWeight: \"bold\" }}>\n              Weather\n            </h1>\n          </button>\n          <Tabs\n            value={currRouteIdx}\n            aria-label=\"styled tabs example\"\n            indicatorColor=\"white\"\n          >\n            <Tab\n              label=\"Home\"\n              onClick={() => {\n                history.push(\"/\");\n                setCurrRouteIdx(\n                  routesMap.findIndex((currRoute) => currRoute === \"/\")\n                );\n              }}\n            />\n            <Tab\n              label=\"Favorites\"\n              onClick={() => {\n                history.push(\"/favorites\");\n                setCurrRouteIdx(\n                  routesMap.findIndex((currRoute) => currRoute === \"/favorites\")\n                );\n              }}\n            />\n          </Tabs>\n        </div>\n      </AppBar>\n      <div className=\"main-container\">\n        <Switches />\n      </div>\n    </>\n  );\n};\n","export default \"data:image/png;base64,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\"","function on(eventName, listener) {\n  const callListener = ({ detail }) => {\n    listener(detail)\n  }\n\n  window.addEventListener(eventName, callListener)\n\n  return () => {\n    window.removeEventListener(eventName, callListener)\n  }\n}\n\nfunction emit(eventName, data) {\n  window.dispatchEvent(new CustomEvent(eventName, { detail: data }))\n}\n\nexport const eventBusService = { on, emit }\n\nwindow.myBus = eventBusService\n","import { accuWeatherService } from \"../../services/accuWeatherService\";\nimport { setCityStatus } from \"./uiActions\";\nimport { eventBusService } from \"../../services/eventBusService\";\n\nexport function setCity(city) {\n  return (dispatch) => {\n    const action = {\n      type: \"SET_CITY\",\n      city,\n    };\n    dispatch(action);\n  };\n}\n\nexport function loadFullCity(cityDetails) {\n  return async (dispatch) => {\n    dispatch(setCityStatus(\"loading\"));\n    try {\n      const weather = await accuWeatherService.getWeather(cityDetails.Key);\n      const forecasts = await accuWeatherService.getForecasts(cityDetails.Key);\n\n      const action = {\n        type: \"SET_CITY\",\n        city: {\n          details: cityDetails,\n          weather,\n          forecasts,\n        },\n      };\n      dispatch(action);\n      dispatch(setCityStatus(\"fulfilled\"));\n    } catch (error) {\n      eventBusService.emit(\"notif\", {\n        type: \"error\",\n        txt: `Couldn't load ${cityDetails.LocalizedName}`,\n      });\n      dispatch(setCityStatus(\"error\"));\n    }\n  };\n}\n","import { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\n\nimport { accuWeatherService } from \"../../services/accuWeatherService\";\nimport { loadFullCity } from \"../../store/actions/cityActions\";\nimport \"./SearchBox.scss\";\nimport { eventBusService } from \"../../services/eventBusService\";\n\nexport const SearchBox = () => {\n  const dispatch = useDispatch();\n\n  const [currText, setCurrText] = useState(\"\");\n  const [autocompletes, setAutocompletes] = useState([]);\n\n  const loadAutoCompletes = async () => {\n    if (!currText) return setAutocompletes([]);\n    try {\n      let exactSearch = autocompletes.find(({ LocalizedName }) => {\n        return LocalizedName === currText;\n      });\n      if (exactSearch) handleSearch();\n\n      const results = await accuWeatherService.getAutoCompletes(currText);\n\n      const cleanResults = results.reduce((acc, currResult) => {\n        const duplicatedResult = acc.find(({ LocalizedName }) => {\n          return LocalizedName === currResult.LocalizedName;\n        });\n        if (!duplicatedResult) acc.push(currResult);\n        return acc;\n      }, []);\n\n      setAutocompletes(cleanResults);\n      exactSearch = cleanResults.find(({ LocalizedName }) => {\n        return LocalizedName === currText;\n      });\n\n      if (exactSearch) handleSearch();\n    } catch (error) {\n      eventBusService.emit(\"notif\", {\n        type: \"error\",\n        txt: `Couldn't load \"${currText}\" auto-completes. Check your internet connection, and make sure that you did'nt exceeded the daily weather requests`,\n      });\n    }\n  };\n\n  const cleanAutoCompletes = autocompletes.filter(\n    ({ LocalizedName }) => LocalizedName !== currText\n  );\n\n  const handleSearch = async () => {\n    const cityDetails = autocompletes.find(\n      (currCity) => currCity.LocalizedName === currText\n    );\n\n    if (!cityDetails) return;\n    dispatch(loadFullCity(cityDetails));\n  };\n\n  useEffect(() => {\n    loadAutoCompletes();\n  }, [currText]);\n\n  return (\n    <div className=\"search-box\">\n      <Autocomplete\n        id=\"free-solo-demo\"\n        freeSolo\n        onChange={(ev, value) => setCurrText(value)}\n        options={cleanAutoCompletes.map(({ LocalizedName }) => LocalizedName)}\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            label=\"Search for location\"\n            margin=\"normal\"\n            variant=\"standard\"\n            value={currText}\n            onChange={({ target: { value } }) => setCurrText(value)}\n          />\n        )}\n      />\n    </div>\n  );\n};\n","export const daysInWeek = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\",\n];\n\nexport const fromFerToCelc = (ferTemp) => {\n  return (ferTemp - 32) / 1.8;\n};\nexport const fromCelcToFer = (celcTemp) => {\n  return 1.8 * celcTemp + 32;\n};\n","import Card from \"@material-ui/core/Card\";\nimport \"./ForecastPreview.scss\";\n\nimport { fromFerToCelc, fromCelcToFer, daysInWeek } from \"../../services/utils\";\nimport { useSelector } from \"react-redux\";\n\nexport const ForecastPreview = ({ forecast }) => {\n  const { isCelsDegrees } = useSelector(({ uiReducer }) => uiReducer);\n  const day = daysInWeek[new Date(forecast.Date).getDay()];\n\n  const getTemp = () => {\n    const valInFer =\n      (forecast.Temperature.Minimum.Value +\n        forecast.Temperature.Maximum.Value) /\n      2;\n    return isCelsDegrees ? fromFerToCelc(valInFer) : valInFer;\n  };\n\n  const uiTemp = `${Math.round((getTemp() * 10) / 10)}°${\n    isCelsDegrees ? \"C\" : \"F\"\n  }`;\n\n  return (\n    <Card className=\"forecast-preview flex column align-center \">\n      <p style={{ fontWeight: \"bold\" }}>{day}</p>\n      <p align=\"center\" style={{ padding: \"10px\" }}>\n        {uiTemp}\n      </p>\n    </Card>\n  );\n};\n","import { useSelector } from \"react-redux\";\nimport \"./ForecastsList.scss\";\nimport { ForecastPreview } from \"../ForecastPreview\";\n\nexport const ForecastsList = (props) => {\n  const city = useSelector(({ cityReducer }) => cityReducer.city);\n\n  return (\n    <ul className=\"forecasts-list clean-list center-childs\">\n      {!city?.forecasts?.DailyForecasts ? (\n        <p>Loading...</p>\n      ) : (\n        city.forecasts.DailyForecasts.map((currForecast) => (\n          <ForecastPreview key={currForecast.Date} forecast={currForecast} />\n        ))\n      )}\n    </ul>\n  );\n};\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { Button } from \"@material-ui/core\";\nimport FavIconEmpty from \"@material-ui/icons/FavoriteBorderOutlined\";\nimport FavIcon from \"@material-ui/icons/Favorite\";\n\nimport {\n  addFavorite,\n  removeFavorite,\n} from \"../../store/actions/favoriteCitiesActions\";\nimport \"./ToggleFavoriteButton.scss\";\n\nexport const ToggleFavoriteButton = ({ cityKey, city }) => {\n  const { favoriteCities } = useSelector(\n    ({ favoriteCitiesReducer }) => favoriteCitiesReducer\n  );\n  const dispatch = useDispatch();\n\n  const relevantCity = city\n    ? city\n    : favoriteCities.find(({ details: { Key } }) => Key === cityKey);\n\n  const isFavorite = favoriteCities.find(({ details: { Key } }) => {\n    console.log(\"Key:\", Key);\n    console.log(\"cityKey:\", cityKey);\n    return Key === cityKey;\n  });\n\n  const toggleFavorite = () => {\n    if (!isFavorite) return dispatch(addFavorite(relevantCity));\n    dispatch(removeFavorite(cityKey, relevantCity));\n  };\n  return (\n    <Button\n      variant={isFavorite ? \"contained\" : \"outlined\"}\n      startIcon={isFavorite ? <FavIcon /> : <FavIconEmpty />}\n      style={{\n        background: \"white\",\n        color: \"purple\",\n        padding: \"5px\",\n      }}\n      className=\"toggle-favorite-button\"\n      onClick={toggleFavorite}\n    ></Button>\n  );\n};\n","import { eventBusService } from \"../../services/eventBusService\";\nimport { storageService } from \"../../services/storageService\";\n\n// Thunk - Action Dispatcher\nexport function setFavorites(favorites) {\n  return (dispatch) => {\n    const action = {\n      type: \"SET_FAVORITES\",\n      favorites,\n    };\n    dispatch(action);\n    storageService.setItem(\"favoriteCities\", favorites);\n  };\n}\n\nexport function addFavorite(favorite) {\n  return (dispatch, getState) => {\n    const action = {\n      type: \"ADD_FAVORITE\",\n      favorite,\n    };\n    dispatch(action);\n    storageService.setItem(\n      \"favoriteCities\",\n      getState().favoriteCitiesReducer.favoriteCities\n    );\n    eventBusService.emit(\"notif\", {\n      type: \"success\",\n      txt: `${favorite.details.LocalizedName} was added to favorites!`,\n    });\n  };\n}\n\nexport function removeFavorite(cityKey, favorite) {\n  return (dispatch, getState) => {\n    console.log(\"removing from action: \", cityKey);\n    const action = {\n      type: \"REMOVE_FAVORITE\",\n      cityKey,\n    };\n    dispatch(action);\n    storageService.setItem(\n      \"favoriteCities\",\n      getState().favoriteCitiesReducer.favoriteCities\n    );\n    eventBusService.emit(\"notif\", {\n      type: \"success\",\n      txt: `${favorite.details.LocalizedName} was removed from favorites`,\n    });\n  };\n}\n","import \"./MessageBox.scss\";\n\nexport const MessageBox = ({ text, Icon, color = \"textPrimary\" }) => {\n  return (\n    <div className=\"message-box flex column align-center\">\n      <p align=\"center\" variant=\"h6\" className=\"message-box-text\" color={color}>\n        {text}\n      </p>\n      {Icon}\n    </div>\n  );\n};\n","import { useSelector } from \"react-redux\";\nimport { SearchBox } from \"../../components/SearchBox\";\nimport { ForecastsList } from \"../../components/ForecastsList/ForecastsList\";\nimport { ToggleFavoriteButton } from \"../../components/ToggleFavoriteButton/ToggleFavoriteButton\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport SearchIcon from \"@material-ui/icons/SearchOutlined\";\nimport ErrorIcon from \"@material-ui/icons/ErrorOutlined\";\nimport { MessageBox } from \"../../components/MessageBox/MessageBox\";\nimport \"./HomePage.scss\";\n\nexport const HomePage = (props) => {\n  const { city } = useSelector(({ cityReducer }) => cityReducer);\n  const { cityStatus, isCelsDegrees } = useSelector(\n    ({ uiReducer }) => uiReducer\n  );\n\n  const getUiTemp = () => {\n    const temp =\n      city.weather[0].Temperature[isCelsDegrees ? \"Metric\" : \"Imperial\"].Value;\n\n    return `${Math.round((temp * 10) / 10)}°${isCelsDegrees ? \"C\" : \"F\"}`;\n  };\n\n  return (\n    <div className=\"home-page flex column align-center \">\n      <SearchBox />\n      {cityStatus === \"empty\" && (\n        <MessageBox\n          text=\"Search for any desired city, and get it's weather details!\"\n          Icon={<SearchIcon />}\n        />\n      )}\n      {cityStatus === \"error\" && (\n        <MessageBox\n          text=\"There was an Error while trying to search for your city. Please refresh the page and try again...\"\n          Icon={<ErrorIcon color=\"error\" />}\n          color=\"error\"\n        />\n      )}\n      {cityStatus === \"fulfilled\" && (\n        <div className=\"city-details\">\n          <div className=\"city-details-bar flex space-between align-center\">\n            <div>\n              <h2>{city.details.LocalizedName}</h2>\n              <h3>{getUiTemp()}</h3>\n            </div>\n            <div>\n              <ToggleFavoriteButton cityKey={city.details.Key} city={city} />\n            </div>\n          </div>\n          <h2 className=\"city-title\" variant=\"h2\">\n            {city.weather[0].WeatherText}\n          </h2>\n          <ForecastsList />\n        </div>\n      )}\n      {cityStatus === \"loading\" && <CircularProgress />}\n    </div>\n  );\n};\n","import Card from \"@material-ui/core/Card\";\nimport { daysInWeek } from \"../../services/utils\";\nimport { ToggleFavoriteButton } from \"../ToggleFavoriteButton/ToggleFavoriteButton\";\nimport { useSelector } from \"react-redux\";\nimport \"./FavoritePreview.scss\";\n\nexport const FavoritePreview = ({ favorite: { weather, details } }) => {\n  const { isCelsDegrees } = useSelector(({ uiReducer }) => uiReducer);\n  const day =\n    daysInWeek[new Date(weather[0].LocalObservationDateTime).getDay()];\n\n  const getUiTemp = () => {\n    const temp =\n      weather[0].Temperature[isCelsDegrees ? \"Metric\" : \"Imperial\"].Value;\n\n    return `${Math.round((temp * 10) / 10)}°${isCelsDegrees ? \"C\" : \"F\"}`;\n  };\n\n  return (\n    <Card className=\"favorite-preview flex column align-center\">\n      <p\n        className=\"title\"\n        align=\"center\"\n        variant=\"body1\"\n        style={{ fontSize: \"18px\" }}\n      >\n        {details.LocalizedName}\n      </p>\n      <p align=\"center\" variant=\"body1\" style={{ fontWeight: \"bold\" }}>\n        Today\n      </p>\n      <p align=\"center\" variant=\"body1\">\n        {getUiTemp()}\n      </p>\n      <ToggleFavoriteButton cityKey={details.Key} />\n    </Card>\n  );\n};\n","import { useSelector } from \"react-redux\";\nimport \"./FavoritesList.scss\";\nimport { FavoritePreview } from \"../FavoritePreview/FavoritePreview\";\nimport { MessageBox } from \"../MessageBox/MessageBox\";\n\nexport const FavoritesList = (props) => {\n  const { favoriteCities } = useSelector(\n    ({ favoriteCitiesReducer }) => favoriteCitiesReducer\n  );\n\n  const EmptyMessage = <MessageBox text={\"Your favorites list is empty\"} />;\n\n  if (!favoriteCities?.length) return EmptyMessage;\n  return (\n    <ul className=\"favorites-list center-childs\">\n      {favoriteCities.map((currFav) => (\n        <FavoritePreview key={currFav.details.Key} favorite={currFav} />\n      ))}\n    </ul>\n  );\n};\n","import './FavoritesPage.scss'\n\nimport { FavoritesList } from '../../components/FavoritesList/FavoritesList'\n\nexport const FavoritesPage = (props) => {\n  return (\n    <section className='favorites-page flex justify-center'>\n      <FavoritesList />\n    </section>\n  )\n}\n","import { useEffect } from 'react'\nimport { toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport { eventBusService } from '../../services/eventBusService'\ntoast.configure()\n\nexport const AppNotification = () => {\n  const notify = (notification) => {\n    toast[notification.type](notification.txt)\n  }\n\n  useEffect(() => {\n    eventBusService.on('notif', notify)\n  }, [])\n\n  return null\n}\n","import { Switch, Route, HashRouter as Router } from \"react-router-dom\";\nimport { AppHeader } from \"./components/AppHeader/AppHeader\";\nimport { HomePage } from \"./pages/HomePage/HomePage\";\nimport { FavoritesPage } from \"./pages/FavoritesPage/FavoritesPage\";\nimport { AppNotification } from \"./components/AppNotification\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { loadFullCity } from \"./store/actions/cityActions\";\nimport { accuWeatherService } from \"./services/accuWeatherService\";\nimport { eventBusService } from \"./services/eventBusService\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\nimport \"./assets/scss/main.scss\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const { isDark } = useSelector(({ uiReducer }) => uiReducer);\n\n  const searchByLocation = async (lat, lng) => {\n    try {\n      const cityDetails = await accuWeatherService.getByLocation(lat, lng);\n      dispatch(loadFullCity(cityDetails));\n    } catch (error) {\n      eventBusService.emit(\"notif\", {\n        type: \"error\",\n        txt: `Couldn't load your current location. Check your connection and make sure that you didn't exceeded the daily weather requests.`,\n      });\n    }\n  };\n\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(\n      ({ coords: { latitude, longitude } }) =>\n        searchByLocation(latitude, longitude),\n      () => {\n        eventBusService.emit(\"notif\", {\n          type: \"error\",\n          txt: `Couldn't load city by current location. Permission denied.`,\n        });\n      }\n    );\n  }, []);\n\n  const theme = createMuiTheme({\n    palette: {\n      type: isDark ? \"dark\" : \"light\",\n    },\n  });\n\n  return (\n    <Router>\n      <ThemeProvider theme={theme}>\n        <Paper className=\"app-paper\">\n          <div className=\"App\">\n            <AppHeader />\n            <AppNotification />\n            <main className=\"main-container page-container\">\n              <Switch>\n                <Route component={FavoritesPage} path=\"/favorites\" />\n                <Route component={HomePage} path=\"\" />\n              </Switch>\n            </main>\n          </div>\n        </Paper>\n      </ThemeProvider>\n    </Router>\n  );\n}\n\nexport default App;\n","const INITIAL_STATE = {\n  city: null,\n}\n\nexport function cityReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case 'SET_CITY':\n      return {\n        ...state,\n        city: action.city,\n      }\n    default:\n      return state\n  }\n}\n","import { storageService } from \"../../services/storageService\";\n\nconst INITIAL_STATE = {\n  favoriteCities: storageService.getItem(\"favoriteCities\") || [],\n};\n\nexport function favoriteCitiesReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case \"SET_FAVORITES\":\n      return {\n        favoriteCities: action.favorites,\n      };\n    case \"ADD_FAVORITE\":\n      return {\n        favoriteCities: [...state.favoriteCities, action.favorite],\n      };\n    case \"REMOVE_FAVORITE\":\n      return {\n        favoriteCities: state.favoriteCities.filter(\n          (currFavorite) => currFavorite.details.Key !== action.cityKey\n        ),\n      };\n    // case \"UPDATE_FAVORITE\":\n    //   const { updatedFavorite } = action;\n    //   return {\n    //     favoriteCities: state.favoriteCities.map((currFavorite) =>\n    //       currFavorite._id === updatedFavorite._id\n    //         ? updatedFavorite\n    //         : currFavorite\n    //     ),\n    //   };\n    default:\n      return state;\n  }\n}\n","const INITIAL_STATE = {\n  cityStatus: 'empty',\n  isDark: false,\n  isCelsDegrees: true,\n}\n\nexport function uiReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case 'SET_CITY_STATUS':\n      return {\n        ...state,\n        cityStatus: action.cityStatus,\n      }\n    case 'SET_IS_DARK':\n      return {\n        ...state,\n        isDark: action.isDark,\n      }\n    case 'SET_IS_CELS_DEGREES':\n      return {\n        ...state,\n        isCelsDegrees: action.isCelsDegrees,\n      }\n    default:\n      return state\n  }\n}\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport { cityReducer } from './reducers/cityReducer'\nimport { favoriteCitiesReducer } from './reducers/favoriteCitiesReducer'\nimport { uiReducer } from './reducers/uiReducer'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nconst rootReducer = combineReducers({\n  cityReducer,\n  favoriteCitiesReducer,\n  uiReducer,\n})\n\nexport const store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\n\nimport App from './App'\nimport { store } from './store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}